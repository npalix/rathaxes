/*
 *
 * This file requires the following rules to be defined :
 * - identifier
 *
 */

// This rule dissects an identifier in parts separated by dots.
rtx_composed_identifier(theNode : node) ::=
    identifier:varId
    // Create the node from
    #check(rtxNodeVar(theNode, varId))
    [
        '.' identifier:curField
        // add the field into the block
        #check(rtxNodeVar_AddIdentifier(theNode, curField))
    ]*
;

// Here we can identify a list of template variables
rtx_var_list(theBlock : node) ::=
/**/=> local lastNode;
    rtx_composed_identifier(lastNode)
    #check(rtxNodeList_AddNode(theBlock, lastNode))
    [
        ','
/**/    => local lastVar;
        rtx_composed_identifier(lastVar)
        #check(rtxNodeList_AddNode(theBlock, lastVar))
    ]*
;
