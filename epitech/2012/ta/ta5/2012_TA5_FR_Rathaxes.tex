\documentclass[xcolor={usenames,svgnames}]{beamer}

\usepackage[francais]{babel}
\usepackage{rtxslides}
\usepackage{listings}
\usepackage{tikz}
\usetikzlibrary{shapes,fit}

\lstdefinelanguage{rathaxes}%
{
	morekeywords={
        interface, extend,                      % interfaces : decl
        device, configuration, driver,          % devices
        with, values,                           % backend+interface
        builtin, provided, required, optional,  % interfaces: implem
        type, sequence, variable,               % general: element type
        pointcut, chunk,                        % for aspectual concepts
        template                                % backend
    },%
	morecomment=[l][\color{Gainsboro}]{//},%
 	morecomment=[l][\color{Gainsboro}]{\#},%
	morecomment=[s][\color{Gainsboro}]{/*}{*/},%
	morestring=[b][\color{Gold}]",%
	morestring=[b][\color{Gold}]',%
	keywordstyle={\color{Tomato}}%
}[keywords,comments,strings]

\lstset{
    language=rathaxes,
    tabsize=4,
    captionpos=b,
    emptylines=0,
    breaklines=false,
    breakatwhitespace=false,        % sets if automatic breaks should only happen at whitespace
    extendedchars=false,
    showstringspaces=false,
    showspaces=false,
    numbersep=1ex,
    showtabs=false,
    basicstyle=\color{white}\scriptsize\ttfamily,
    numberstyle=\color{Gainsboro}\scriptsize\ttfamily,
    stepnumber=1,                   % the step between two line-numbers. If it's 1, each line
    keywordstyle=\color{Tomato},
    commentstyle=\color{Gainsboro},
    stringstyle=\color{white},
    backgroundcolor=\color{black},
    escapeinside={\%*}{*)},         % if you want to add a comment within your code
    morekeywords={*,...}            % if you want to add more keywords to the set
}

\title{\rtx\ -- Technical Assessment 5}
\date{17 décembre 2011}
\author{Louis Opter \\ \texttt{<louis@lse.epitech.eu>}}

\definecolor{lightred}{RGB}{147,36,33}
\tikzset{componentarrow/.style={<-, >=latex, color=rathaxesred, ultra thick}}

\newcommand{\cemph}[1]{{\itshape\LARGE{\textcolor{rathaxesred}{#1}}}}

\begin{document}

\begin{frame}
\titlepage
\end{frame}

\begin{frame}
\rmfamily{\itshape{«~\rtx\ est un \textcolor{rathaxesred}{langage dédié} qui
permet de \textcolor{rathaxesred}{décrire des pilotes} de périphériques. \rtx\
compile vers des modules noyaux écrits en C pour \textcolor{rathaxesred}{Linux},
\textcolor{rathaxesred}{Windows} et \textcolor{rathaxesred}{OpenBSD}.~»}}
\end{frame}

% We could a graph using the commit stats in linux:
\begin{frame}{Développement de pilotes}
\begin{center}
\only<1>{
\Large{Une tâche \cemph{difficile}, \cemph{longue} et \cemph{fastidieuse} :}}
\only<2>{\Large{%
\begin{itemize}
\item Compétences requises ;
\item Portabilité ;
\item Maintenance.
\end{itemize}
}}
\end{center}
\end{frame}

\begin{frame}{Objectifs de Rathaxes}
\begin{center}
\only<1>{\Large{\cemph{\LARGE{Simplifier}} les cycles de développement}}
\only<2>{\Large{\begin{itemize}
\item Abstraction de la plateforme ;
\item Vérifications statiques ;
\item \cemph{\Huge{séparer les compétences.}}
\end{itemize}}}
\end{center}
\end{frame}

\begin{frame}{Séparation des compétences}

\begin{center}
\only<1>{\LARGE\itshape{{Deux domaines de compétences :}}}

\only<2>{\begin{tikzpicture}
\draw (-4, 1.5) node[above, text width=2cm, text centered, rotate=45]{\small{Développeur de pilotes}} ;
\draw (-4, -1) node[below]{\includegraphics[width=2cm]{logos/nvidia_white}} ;
\draw (-4, 0) node[below]{\includegraphics[width=2cm]{logos/intel}} ;
\draw (-4, 0.5) node[below]{\includegraphics[width=2cm]{logos/broadcom_white}} ;
\draw (-4, -3) node{\ldots} ;

\draw (0, 1.5) node[above, text width=2cm, text centered, rotate=45]{\textcolor{black}{\small{Développeur Rathaxes}}} ;

\draw (4, 1.5) node[above, text width=2cm, text centered, rotate=45]{\textcolor{black}{\small{Développeur systèmes}}} ;
\fill[black] (4, 0) circle(1.13) ; % hidden placeholder to make the right overflow
\end{tikzpicture}}

\only<3>{\begin{tikzpicture}
\draw (-4, 1.5) node[above, text width=2cm, text centered, rotate=45]{\small{Développeur de pilotes}} ;
\draw (-4, -1) node[below]{\includegraphics[width=2cm]{logos/nvidia_white}} ;
\draw (-4, 0) node[below]{\includegraphics[width=2cm]{logos/intel}} ;
\draw (-4, 0.5) node[below]{\includegraphics[width=2cm]{logos/broadcom_white}} ;
\draw (-4, -3) node{\ldots} ;

\draw (0, 1.5) node[above, text width=2cm, text centered, rotate=45]{\textcolor{black}{\small{Développeur Rathaxes}}} ;
%\draw (-0.5, 0.5) node[below]{\includegraphics[width=2cm]{logo_latex}} ;

\draw (4, 1.5) node[above, text width=2cm, text centered, rotate=45]{\small{Développeur systèmes}} ;
\draw (4, 0.5) node[below]{\includegraphics[width=2cm]{logos/tux}} ;
\draw (4, 0) node[above]{\includegraphics[width=2cm]{logos/windows_7_white}} ;
\draw (4, -3) node{\ldots} ;
\end{tikzpicture}}
\end{center}

% Note: I just discovered that beamer support columns inside frame, I'll give
% it a try next time…

\transdissolve<2>
\transdissolve<3>
\end{frame}

\begin{frame}{Langage}
\transblindshorizontal

\begin{center}
\only<1>{%
\tikzset{textbox/.style={draw, ultra thick, color=rathaxesred, minimum width=2.5cm, minimum height=4cm, rectangle, rathaxesred, rounded corners=3pt, fill=lightred}}
\begin{tikzpicture}
%\draw (-4, 1.5) node[above, text width=2cm, text centered, rotate=45]{\small{Développeur de pilotes}} ;
\node[textbox] (frontend) at (-4, 1.5) {\textcolor{white}{Front-end}} ;
\draw (-4, -1) node (title) {\cemph{Rathaxes}} ;

%\draw (0, 1.5) node[above, text width=2cm, text centered, rotate=45]{\textcolor{black}{\small{Développeur Rathaxes}}} ;
%\node[textbox] (middleend) at (0, 1.5) {\textcolor{white}{Middle-end}} ;

%\draw (4, 1.5) node[above, text width=2cm, text centered, rotate=45]{\textcolor{black}{\small{Développeur systèmes}}} ;
\node[textbox] (backend) at (4, 1.5) {\textcolor{white}{Back-end}} ;
\node[draw] (box) [ultra thick, dashed, color=rathaxesred, rounded corners=3pt, fit = (frontend) (backend) (title)] {} ;
\end{tikzpicture}}

\only<2>{%
\tikzset{textbox/.style={draw, ultra thick, color=rathaxesred, minimum width=2.5cm, minimum height=4cm, rectangle, rathaxesred, rounded corners=3pt, fill=lightred}}
\begin{tikzpicture}
%\draw (-4, 1.5) node[above, text width=2cm, text centered, rotate=45]{\small{Développeur de pilotes}} ;
\node[textbox] (frontend) at (-4, 1.5) {\textcolor{white}{Front-end}} ;
\draw (-4, -1) node (title) {\cemph{Rathaxes}} ;

%\draw (0, 1.5) node[above, text width=2cm, text centered, rotate=45]{\textcolor{black}{\small{Développeur Rathaxes}}} ;
\node[textbox] (middleend) at (0, 1.5) {\textcolor{white}{Middle-end}} ;

%\draw (4, 1.5) node[above, text width=2cm, text centered, rotate=45]{\textcolor{black}{\small{Développeur systèmes}}} ;
\node[textbox] (backend) at (4, 1.5) {\textcolor{white}{Back-end}} ;
\node[draw] (box) [ultra thick, dashed, color=rathaxesred, rounded corners=3pt, fit = (frontend) (middleend) (backend) (title)] {} ;
\end{tikzpicture}}
\end{center}
\end{frame}

\begin{frame}[fragile]{Avancement}
\begin{center}
\begin{tikzpicture}[xscale=0.11,yscale=0.3,yshift=-5cm]
\draw[thick, ->, >=latex] (-1, 0) -- (107, 0) {};
\draw[thick, ->, >=latex] (0, -0.35) -- (0, 19.486) {};

\draw[ultra thick,color=rathaxesred] plot[smooth] file {activity_end_2011.txt};

\node[right] at (0, -1) {\small{Sep.}};
\node at (30, -1) {\small{Oct.}};
\node at (60, -1) {\small{Nov.}};
\node at (90, -1) {\small{\emph{Déc.}}};
\end{tikzpicture}
Activité sur le dépôt
\end{center}
\end{frame}

\begin{frame}[fragile]{Avancement}
\begin{center}
\begin{tikzpicture}
\draw (0,0) node[right]{%
\begin{minipage}{70mm}
\lstset{numbers=left}
\begin{lstlisting}
/*
 * hello.rtx
 */

device HelloWorld use Module, Types, Log
{
    Module::start()
    {
        Log::info("Hello World!");
    }
}

configuration
{

}
\end{lstlisting}
\end{minipage}};
\end{tikzpicture}

Module Noyau minimal
\end{center}
\end{frame}

\begin{frame}{Merci}
\begin{center}
\Huge{\emph{Questions ?}}
\end{center}

\vspace{2em}
\begin{itemize}
\item \Large{\texttt{http://www.rathaxes.org/}}
\end{itemize}
\end{frame}

\end{document}
