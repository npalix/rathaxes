\documentclass[american]{rtxarticle}

\usepackage{listings}

\lstset{%
basicstyle=\ttfamily\footnotesize\color{lightgray},
backgroundcolor=\color{black}
}

\title{First steps}
\author{Louis Opter}

\rtxdoctype{User Documentation}
\rtxdocstatus{Draft}
\rtxdocversion{0.3}

\rtxdochistory
{
0.1 & 04/07/2011 & Louis Opter & Initial release \\
\hline
0.2 & 04/09/2011 & Louis Opter & Lot of improvements \\
\hline
0.3 & 04/09/2011 & David Pineau & Quick fixes \\
}

\begin{document}

\maketitle

\begin{abstract}
\rtx\ is a Domain Specific Language to describes peripherals drivers. \rtx\
compiles to kernel modules written in C for Linux, Windows and OpenBSD.

This document explains how to setup the \rtx\ compiler on Windows and Unix like
platforms and generate your first peripheral driver.

This document will also give you links to the complete documentation and
explains how to build the latest version of \rtx.
\end{abstract}

\tableofcontents

\section{Installation}

An installer exists for Windows, on other operating systems only installations
from the sources are supported at the moment. Of course, if you intend to
develop on \rtx\ itself from Windows you can also choose to install \rtx\ from
the sources (i.e. without the installer).

Although \rtx\ only generate drivers for Windows, Linux and OpenBSD it can be
installed and used from others operating systems as well (including other BSDs
and MacOS X).

\subsection{Using the Windows installer}

An installer is available for Windows. It includes everything you need to write
drivers using \rtx: the \rtx\ compiler and its documentation.

Download the \href{http://rathaxes.googlecode.com/files/rathaxes-latest.exe}{installer},
then simply execute it and follow the instructions on your screen.

To build and use the drivers generated by \rtx\ you will also need the
Microsoft Driver Development Kit.

\subsection{From the sources on Unix}

If you are not on Windows you will have to install \rtx\ from a ``source
release''.

You will need to have CMake >= 2.6 installed and to download a
\href{http://rathaxes.googlecode.com/files/rathaxes-src-latest.tar.gz}{\rtx\ source tarball}.

Then extract the source tarball and ``cd'' into it, finally you can install
\rtx\ using:

\begin{lstlisting}
$ mkdir build
$ cd build
$ cmake -DCMAKE_INSTALL_PREFIX=/usr/local/ -DCMAKE_BUILD_TYPE=RELEASE ..
$ sudo make install
\end{lstlisting}

\emph{You will need to be root to issue ``make install'', this example uses
``sudo'' but accord this to your local setup.}

\section{Generate your first driver}

TBD.

\section{Diving in}

TBD.

% Give links to the documentation here.

\section{Install the development version of \rtx}

You can install the latest version of \rtx\ if you need to have the latest bugs
and features or if you want to contribute to the project. This involves checking
out the current version of the project using Mercurial and to build it manually.

\subsection{Pre-requisites}

To checkout and build the project you need to install the following softwares:
\begin{itemize}
\item Mercurial >= 1.5 (you can check the version with ``hg {-}{-}version'' and
      use \href{http://tortoisehg.bitbucket.org/download/index.html}{TortoiseHg}
      on Windows);
\item Subversion (you need to install \href{http://www.sliksvn.com/en/download}{Slik
      SVN} on Windows which ships the command line executables);
\item \href{http://www.cmake.org/cmake/resources/software.html}{CMake} >= 2.6
      (you can check the version with ``cmake {-}{-}version'');
\item A compiler tool-chain (for example by installing the ``build-essential'' package on a
      Debian-like GNU/Linux distribution or by installing
      \href{http://www.microsoft.com/express/Downloads/#2010-Visual-CPP}{Visual Studio Express for C++}
      on Windows).
\end{itemize}

\emph{When you install CMake on Windows, make sure to select the option to add
CMake to the system PATH for all users.}

\subsection{Checkout the sources}

Open a shell (you can do this from the Visual Studio menu on Windows), and
checkout the project using:

\begin{lstlisting}
$ hg clone https://rathaxes.googlecode.com/hg/ rathaxes
$ cd rathaxes
\end{lstlisting}

Keep the shell open, the next section explains how to build \rtx\ on Windows or
Unix.

\subsection{Build \rtx}

If you are using an Unix like operating system use the following commands:

\begin{lstlisting}
$ mkdir build
$ cd build
$ cmake ..
$ make
\end{lstlisting}

If you are on Windows use:

\begin{lstlisting}
$ mkdir build
$ cd build
$ cmake -G "NMake Makefiles" ..
$ nmake
\end{lstlisting}

\rtxmaketitleblock

\end{document}
